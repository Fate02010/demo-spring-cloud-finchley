server:
  # \u9879\u76EE\u7AEF\u53E3\u53F7
  port: 18000

spring:
  application:
    # Spring Boot \u9879\u76EE\u5B9E\u4F8B\u540D\u79F0
    name: demo-api-zuul
  boot:
    admin:
      client:
        # \u57FA\u4E8E Spring Boot \u9879\u76EE\u7684\u76D1\u63A7\u5730\u5740
        url: 'http://localhost:1700'

### \u65E5\u5FD7\u914D\u7F6E
logback:
  spring:
    level: INFO
  project:
    level: INFO

### \u6CE8\u518C\u4E2D\u5FC3\u914D\u7F6E
eureka:
  instance:
    # \u4E3B\u673A\u540D
    hostname: localhost
    # \u4F7F\u7528 ip \u6CE8\u518C\u5230\u6CE8\u518C\u4E2D\u5FC3\u5B9E\u4F8B\u5316
    prefer-ip-address: true
  client:
    secure-port-enabled: true
    ssl:
      key-store: EurekaClient.p12
      key-store-password: 123456
    security:
      user:
        name: eureka-server
        password: 8e9lx7LuP3436gfsg
    # Spring Cloud Eureka \u6CE8\u518C\u4E2D\u5FC3\u5730\u5740
    service-url:
      defaultZone: https://${eureka.client.security.user.name}:${eureka.client.security.user.password}@${eureka.instance.hostname}:8761/eureka/
    # \u9488\u5BF9\u65B0\u670D\u52A1\u4E0A\u7EBF, Eureka client\u83B7\u53D6\u4E0D\u53CA\u65F6\u7684\u95EE\u9898\uFF0C\u5728\u6D4B\u8BD5\u73AF\u5883\uFF0C\u53EF\u4EE5\u9002\u5F53\u63D0\u9AD8Client\u7AEF\u62C9\u53D6Server\u6CE8\u518C\u4FE1\u606F\u7684\u9891\u7387\uFF0C\u9ED8\u8BA4\uFF1A30\u79D2
    registry-fetch-interval-seconds: 30
    # \u5F53 Eureka Server \u4E0D\u53EF\u7528\u65F6\uFF0C\u8FD9\u65F6\u5C31\u83B7\u53D6\u4E0D\u5230 \u6CE8\u518C\u5217\u8868\uFF0C\u5F53\u4ECE\u6B64\u7C7B\u8FDB\u884C\u83B7\u53D6\u6CE8\u518C\u5217\u8868
    backup-registry-impl: com.lynchj.demoapizuul.config.StaticBackupRegistryListConfiguration

### \u7F51\u5173\u914D\u7F6E
zuul:
  # \u8DEF\u7531\u4FE1\u606F\u914D\u7F6E
  routes:
    # \u9488\u5BF9\u67D0\u4E2A\u670D\u52A1\u7684\u914D\u7F6E\uFF0C\u53EF\u81EA\u5B9A\u4E49
    demo-order:
      # \u8BBF\u95EE\u7684\u8DEF\u5F84\uFF0C\u6B64\u5904\u8981\u4EE5 '/do/' \u5F00\u5934
      path: /do/**
      # \u540E\u7AEF\u670D\u52A1\u7684\u5B9E\u4F8B Id\u3002
      # \u610F\u601D\uFF1A\u4EE5 '/do/' \u5F00\u5934\u7684\u8BF7\u6C42\uFF0C\u90FD\u4F1A\u5411\u540E\u7AEF\u670D\u52A1 'demo-order' \u8FDB\u884C\u8F6C\u53D1
      serviceId: demo-order
      # \u5265\u593A\u524D\u7F00\uFF0C\u6B64\u914D\u7F6E\u662F\u9488\u5BF9\u4E0A\u65B9 'path' \u914D\u7F6E\u7684\u9879
      # \u4E3A true \u7684\u60C5\u51B5\u4E0B\uFF1A\u5411\u540E\u7AEF\u8F6C\u53D1\u4E4B\u540E\u662F\u4E0D\u4F1A\u643A\u5E26 '/do' \u7684\u3002\u4E3A false \u5219\u76F8\u53CD
      stripPrefix: true
      # \u4E0D\u5411\u540E\u7AEF\u670D\u52A1\u4F20\u9012\u7684\u654F\u611F\u5934\u4FE1\u606F
      sensitiveHeaders: Cookie,Set-Cookie,Authorization
  # \u5FFD\u7565\u7684\u670D\u52A1\uFF0C\u6709\u4E9B\u540E\u7AEF\u670D\u52A1\u662F\u4E0D\u9700\u8981\u8BA9\u7F51\u7BA1\u4EE3\u7406\u7684\uFF0C\u9632\u6B62\u670D\u52A1\u4FB5\u5165
  ignored-services: service-a,service-b,config-server
  # \u5FFD\u7565\u7684\u63A5\u53E3\uFF0C\u5C4F\u853D\u63A5\u53E3
  ignored-patterns: /**/div/**
  # \u6B64\u5904\u89E3\u51B3\u540E\u7AEF\u670D\u52A1\u91CD\u5B9A\u5411\u5BFC\u81F4\u7528\u6237\u6D4F\u89C8\u7684 host \u53D8\u6210 \u540E\u7AEF\u670D\u52A1\u7684 host \u95EE\u9898
  add-host-header: true
  # \u5F00\u542F\u91CD\u8BD5\u673A\u5236\uFF0C\u7ED3\u5408 Ribbon(\u9ED8\u8BA4\u96C6\u6210)\uFF0C\u53EA\u9700\u914D\u7F6E\u5373\u53EF\uFF0C\u614E\u7528\uFF0C\u6709\u4E9B\u63A5\u53E3\u8981\u8003\u8651\u5230\u5E42\u7B49\u6027
  retryable: true
